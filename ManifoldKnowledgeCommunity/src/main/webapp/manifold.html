<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <title>流形--专业、开放的知识分享社区</title>
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="shortcut icon" type="image/jpeg" href="image/manifold-logo5.jpg" />
    <link rel="stylesheet" type="text/css" href="css/my-layer-skin.css">
    <link rel="stylesheet" type="text/css" href="css/base.css">
    <link rel="stylesheet" type="text/css" href="css/mask.css">
    <link rel="stylesheet" type="text/css" href="css/topic.css">
    <link href="css/style.css" rel="stylesheet">
    <!--jQuery-->
    <script type="text/javascript " src="js/jquery-3.3.1.min.js"></script>
    <!--token服务-->
    <script type="text/javascript " src="js/jwt.js"></script>
    <script>
        var user_info = null;

        function chkToken() {
            $.ajax({
                url: 'manifold/chkToken',
                method: 'get',
                headers: createAuthorizationTokenHeader(),
                success: function(data) {
                    if (data.email == 'fail') {
                        location.href = "login.html";
                    } else {
                        user_info = data;
                        $('body').css('display', 'block');
                        console.info('检验成功,user_email:' + data.email);
                    }
                },
                async: 'false',
                dataType: 'json'
            });
        };
        chkToken();
    </script>

</head>

<body style="display: none">
    <canvas id="canvas"></canvas>
    <div class="top-menu-nav">
        <div class="topnav">
            <center>
                <a id="home-page" href="manifold.html"><i class="fa fa-tv fa-1g"></i>&nbsp;&nbsp;主页</a>
                <a id="topic-tree" href="topic-tree.html"><i class="fa fa-tree fa-1g"></i>&nbsp;&nbsp;话题树</a>
                <a id="discover-page" href="#contact"><i class="fa fa-twitch fa-1g"></i>&nbsp;&nbsp;发现</a>&nbsp;&nbsp;
                <input type="text" placeholder="搜索 问题/话题/用户..">
                <button id="search-btn"><i class="fa fa-search fa-lg"></i>&nbsp;search</button>
            </center>
        </div>
    </div>


    <div class="right-top">
        <li>
            <a href="javascript:openQuestionEdit();">
                <i class="fa fa-lightbulb-o fa-2x"></i>
                <div>
                    我要提问
                </div>
            </a>
        </li>
        <li>
            <a href="javascript:openColectionEdit();">
                <i class="fa fa-bookmark-o fa-2x"></i>
                <div>
                    我的收藏
                </div>
            </a>
        </li>
    </div>


    <div class="right-foot">
        <div class="menu">
            <li class="item" id="profile">
                <a id="username" href="#profile" class="btn"><i class="fa fa-user-o"></i>用户名</a>
                <div class="smenu">
                    <a href="#">个人资料</a>
                    <a href="#">Picture</a>
                </div>
            </li>
            <li class="item" id="message">
                <a href="#message" class="btn"><i class="fa fa-envelope"></i>消息</a>
                <div class="smenu">
                    <a href="#">new</a>
                    <a href="#">Sent</a>
                    <a href="#">Spam</a>
                </div>
            </li>
            <li class="item" id="setting">
                <a href="#setting" class="btn"><i class="fa fa-bell-o"></i>关注</a>
                <div class="smenu">
                    <a href="#">关注了</a>
                    <a href="#">关注者</a>
                </div>
            </li>
            <li class="item" id="Logout">
                <a href="javascript:logout();" class="btn"><i class="fa fa-sign-out"></i>Logout</a>
            </li>
        </div>
    </div>


    <div class="question-container">
        <div class="header">
            <h4><a href="#" class="color259">热门排序</a><span> | </span><a href="#">时间排序</a></h4>
        </div>
        <div class="feed-list">
            <div class="feed-item">
                <div class="feed-body">
                    <h2 class="feed-title">
                        <a href="#">为什么业内不流行基于移动端的Web APP去使用H5整站 canvas技术？</a>
                    </h2>
                    <div class="feed-user-info">
                        <a href="#">与三更</a>
                        <span class="comma">，</span>
                        <span>你是春天里的花朵，长在</span>
                    </div>
                    <div class="feed-content">
                        人家发明 html 和 css 本来就是为了让你尽量不要自绘，因为这事儿开发成本太高，为了解决特殊需求，人家又给你提供了 canvas。 现在你要摒弃 html/css，没有特殊需求却非要在 canvas 自绘。是不是回头你觉得自绘开发效率低，又要在 canvas 里重新发明一套 h…
                        <a href="#">显示全部</a>
                    </div>
                    <div class="feed-meta">
                        <a href="#"><span class="glyphicon glyphicon-plus"></span>&nbsp;关注问题</a>
                        <a href="#"><span class="glyphicon glyphicon-leaf"></span>&nbsp;2条评论</a>
                        <div class="hidden-part" style="display: none;">
                            <a href="#"><span class="glyphicon glyphicon-heart"></span>&nbsp;感谢</a>
                            <a href="#"><span class="glyphicon glyphicon-share-alt"></span>&nbsp;分享</a>
                            <a href="#"><span class="glyphicon glyphicon-bookmark"></span>&nbsp;收藏</a>
                            <a href="#"><span>•</span>&nbsp;举报</a>
                        </div>
                        <a href="#">作者保留权利</a>
                    </div>
                </div>
                <div class="votebar">
                    <button class="vote-up" clicked="false">26
								<i></i>
							</button>
                    <button class="vote-down" clicked="false">
								<i></i>
							</button>
                </div>
            </div>
            <div class="feed-item">
                <div class="feed-body">
                    <h2 class="feed-title">
                        <a href="#">为什么业内不流行基于移动端的Web APP去使用H5整站 canvas技术？</a>
                    </h2>
                    <div class="feed-user-info">
                        <a href="#">与三更</a>
                        <span class="comma">，</span>
                        <span>你是春天里的花朵，长在</span>
                    </div>
                    <div class="feed-content">
                        人家发明 html 和 css 本来就是为了让你尽量不要自绘，因为这事儿开发成本太高，为了解决特殊需求，人家又给你提供了 canvas。 现在你要摒弃 html/css，没有特殊需求却非要在 canvas 自绘。是不是回头你觉得自绘开发效率低，又要在 canvas 里重新发明一套 h…
                        <a href="#">显示全部</a>
                    </div>
                    <div class="feed-meta">
                        <a href="#"><span class="glyphicon glyphicon-plus"></span>&nbsp;关注问题</a>
                        <a href="#"><span class="glyphicon glyphicon-leaf"></span>&nbsp;2条评论</a>
                        <div class="hidden-part" style="display: none;">
                            <a href="#"><span class="glyphicon glyphicon-heart"></span>&nbsp;感谢</a>
                            <a href="#"><span class="glyphicon glyphicon-share-alt"></span>&nbsp;分享</a>
                            <a href="#"><span class="glyphicon glyphicon-bookmark"></span>&nbsp;收藏</a>
                            <a href="#"><span>•</span>&nbsp;举报</a>
                        </div>
                        <a href="#">作者保留权利</a>
                    </div>
                </div>
                <div class="votebar">
                    <button class="vote-up" clicked="false">26
								<i></i>
							</button>
                    <button class="vote-down" clicked="false">
								<i></i>
							</button>
                </div>
            </div>
            <div class="feed-item">
                <div class="feed-body">
                    <h2 class="feed-title">
                        <a href="#">为什么业内不流行基于移动端的Web APP去使用H5整站 canvas技术？</a>
                    </h2>
                    <div class="feed-user-info">
                        <a href="#">与三更</a>
                        <span class="comma">，</span>
                        <span>你是春天里的花朵，长在</span>
                    </div>
                    <div class="feed-content">
                        人家发明 html 和 css 本来就是为了让你尽量不要自绘，因为这事儿开发成本太高，为了解决特殊需求，人家又给你提供了 canvas。 现在你要摒弃 html/css，没有特殊需求却非要在 canvas 自绘。是不是回头你觉得自绘开发效率低，又要在 canvas 里重新发明一套 h…
                        <a href="#">显示全部</a>
                    </div>
                    <div class="feed-meta">
                        <a href="#"><span class="glyphicon glyphicon-plus"></span>&nbsp;关注问题</a>
                        <a href="#"><span class="glyphicon glyphicon-leaf"></span>&nbsp;2条评论</a>
                        <div class="hidden-part" style="display: none;">
                            <a href="#"><span class="glyphicon glyphicon-heart"></span>&nbsp;感谢</a>
                            <a href="#"><span class="glyphicon glyphicon-share-alt"></span>&nbsp;分享</a>
                            <a href="#"><span class="glyphicon glyphicon-bookmark"></span>&nbsp;收藏</a>
                            <a href="#"><span>•</span>&nbsp;举报</a>
                        </div>
                        <a href="#">作者保留权利</a>
                    </div>
                </div>
                <div class="votebar">
                    <button class="vote-up" clicked="false">26
								<i></i>
							</button>
                    <button class="vote-down" clicked="false">
								<i></i>
							</button>
                </div>
            </div>
            <div class="feed-item">
                <div class="feed-body">
                    <h2 class="feed-title">
                        <a href="#">为什么业内不流行基于移动端的Web APP去使用H5整站 canvas技术？</a>
                    </h2>
                    <div class="feed-user-info">
                        <a href="#">与三更</a>
                        <span class="comma">，</span>
                        <span>你是春天里的花朵，长在</span>
                    </div>
                    <div class="feed-content">
                        人家发明 html 和 css 本来就是为了让你尽量不要自绘，因为这事儿开发成本太高，为了解决特殊需求，人家又给你提供了 canvas。 现在你要摒弃 html/css，没有特殊需求却非要在 canvas 自绘。是不是回头你觉得自绘开发效率低，又要在 canvas 里重新发明一套 h…
                        <a href="#">显示全部</a>
                    </div>
                    <div class="feed-meta">
                        <a href="#"><span class="glyphicon glyphicon-plus"></span>&nbsp;关注问题</a>
                        <a href="#"><span class="glyphicon glyphicon-leaf"></span>&nbsp;2条评论</a>
                        <div class="hidden-part" style="display: none;">
                            <a href="#"><span class="glyphicon glyphicon-heart"></span>&nbsp;感谢</a>
                            <a href="#"><span class="glyphicon glyphicon-share-alt"></span>&nbsp;分享</a>
                            <a href="#"><span class="glyphicon glyphicon-bookmark"></span>&nbsp;收藏</a>
                            <a href="#"><span>•</span>&nbsp;举报</a>
                        </div>
                        <a href="#">作者保留权利</a>
                    </div>
                </div>
                <div class="votebar">
                    <button class="vote-up" clicked="false">26
								<i></i>
							</button>
                    <button class="vote-down" clicked="false">
								<i></i>
							</button>
                </div>
            </div>
            <div class="feed-item">
                <div class="feed-body">
                    <h2 class="feed-title">
                        <a href="#">为什么业内不流行基于移动端的Web APP去使用H5整站 canvas技术？</a>
                    </h2>
                    <div class="feed-user-info">
                        <a href="#">与三更</a>
                        <span class="comma">，</span>
                        <span>你是春天里的花朵，长在</span>
                    </div>
                    <div class="feed-content">
                        人家发明 html 和 css 本来就是为了让你尽量不要自绘，因为这事儿开发成本太高，为了解决特殊需求，人家又给你提供了 canvas。 现在你要摒弃 html/css，没有特殊需求却非要在 canvas 自绘。是不是回头你觉得自绘开发效率低，又要在 canvas 里重新发明一套 h…
                        <a href="#">显示全部</a>
                    </div>
                    <div class="feed-meta">
                        <a href="#"><span class="glyphicon glyphicon-plus"></span>&nbsp;关注问题</a>
                        <a href="#"><span class="glyphicon glyphicon-leaf"></span>&nbsp;2条评论</a>
                        <div class="hidden-part" style="display: none;">
                            <a href="#"><span class="glyphicon glyphicon-heart"></span>&nbsp;感谢</a>
                            <a href="#"><span class="glyphicon glyphicon-share-alt"></span>&nbsp;分享</a>
                            <a href="#"><span class="glyphicon glyphicon-bookmark"></span>&nbsp;收藏</a>
                            <a href="#"><span>•</span>&nbsp;举报</a>
                        </div>
                        <a href="#">作者保留权利</a>
                    </div>
                </div>
                <div class="votebar">
                    <button class="vote-up" clicked="false">26
								<i></i>
							</button>
                    <button class="vote-down" clicked="false">
								<i></i>
							</button>
                </div>
            </div>
            <div class="feed-item">
                <div class="feed-body">
                    <h2 class="feed-title">
                        <a href="#">为什么业内不流行基于移动端的Web APP去使用H5整站 canvas技术？</a>
                    </h2>
                    <div class="feed-user-info">
                        <a href="#">与三更</a>
                        <span class="comma">，</span>
                        <span>你是春天里的花朵，长在</span>
                    </div>
                    <div class="feed-content">
                        人家发明 html 和 css 本来就是为了让你尽量不要自绘，因为这事儿开发成本太高，为了解决特殊需求，人家又给你提供了 canvas。 现在你要摒弃 html/css，没有特殊需求却非要在 canvas 自绘。是不是回头你觉得自绘开发效率低，又要在 canvas 里重新发明一套 h…
                        <a href="#">显示全部</a>
                    </div>
                    <div class="feed-meta">
                        <a href="#"><span class="glyphicon glyphicon-plus"></span>&nbsp;关注问题</a>
                        <a href="#"><span class="glyphicon glyphicon-leaf"></span>&nbsp;2条评论</a>
                        <div class="hidden-part" style="display: none;">
                            <a href="#"><span class="glyphicon glyphicon-heart"></span>&nbsp;感谢</a>
                            <a href="#"><span class="glyphicon glyphicon-share-alt"></span>&nbsp;分享</a>
                            <a href="#"><span class="glyphicon glyphicon-bookmark"></span>&nbsp;收藏</a>
                            <a href="#"><span>•</span>&nbsp;举报</a>
                        </div>
                        <a href="#">作者保留权利</a>
                    </div>
                </div>
                <div class="votebar">
                    <button class="vote-up" clicked="false">26
								<i></i>
							</button>
                    <button class="vote-down" clicked="false">
								<i></i>
							</button>
                </div>
            </div>
            <div class="feed-item">
                <div class="feed-body">
                    <h2 class="feed-title">
                        <a href="#">为什么业内不流行基于移动端的Web APP去使用H5整站 canvas技术？</a>
                    </h2>
                    <div class="feed-user-info">
                        <a href="#">与三更</a>
                        <span class="comma">，</span>
                        <span>你是春天里的花朵，长在</span>
                    </div>
                    <div class="feed-content">
                        人家发明 html 和 css 本来就是为了让你尽量不要自绘，因为这事儿开发成本太高，为了解决特殊需求，人家又给你提供了 canvas。 现在你要摒弃 html/css，没有特殊需求却非要在 canvas 自绘。是不是回头你觉得自绘开发效率低，又要在 canvas 里重新发明一套 h…
                        <a href="#">显示全部</a>
                    </div>
                    <div class="feed-meta">
                        <a href="#"><span class="glyphicon glyphicon-plus"></span>&nbsp;关注问题</a>
                        <a href="#"><span class="glyphicon glyphicon-leaf"></span>&nbsp;2条评论</a>
                        <div class="hidden-part" style="display: none;">
                            <a href="#"><span class="glyphicon glyphicon-heart"></span>&nbsp;感谢</a>
                            <a href="#"><span class="glyphicon glyphicon-share-alt"></span>&nbsp;分享</a>
                            <a href="#"><span class="glyphicon glyphicon-bookmark"></span>&nbsp;收藏</a>
                            <a href="#"><span>•</span>&nbsp;举报</a>
                        </div>
                        <a href="#">作者保留权利</a>
                    </div>
                </div>
                <div class="votebar">
                    <button class="vote-up" clicked="false">26
								<i></i>
							</button>
                    <button class="vote-down" clicked="false">
								<i></i>
							</button>
                </div>
            </div>
        </div>
    </div>

    <!--基础js-->

    <script type="text/javascript " src="js/manifold.js"></script>
    <script type="text/javascript " src="js/question-edit-layer.js"></script>
    <!--layer-->
    <script type="text/javascript " src="layer/2.4/layer.js"></script>
    <!--layui-->
    <script type="text/javascript" src="layui/layui.js"></script>
    <!--话题树-->
    <script type="text/javascript " src="js/manifold-topic.js"></script>

    <script>
        $(function() {
            /*配置layui弹出层自定义样式*/
            layer.config({
                skin: 'my-layer-skin'
            });


            $('#home-page').css({
                'background-color': '#3498db',
                'color': '#fff'
            });
            console.log(user_info);

            $('#username').html('<i class="fa fa-user-o"></i>' + user_info.username + '<right><img src="image/user_avatar/' + user_info.avatar + '"></right>');

        });

        function logout() {
            layer.confirm("确定要退出吗", () => {
                removeJwtToken();
                window.location.href = "login.html";
            })
        }
    </script>

</body>

</html>